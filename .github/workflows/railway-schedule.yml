name: Railway Auto Schedule
on:
  schedule:
    - cron: '0 9 * * *'  # 6h BrasÃ­lia - LIGAR
    - cron: '0 2 * * *'  # 23h BrasÃ­lia - DESLIGAR
  workflow_dispatch:

jobs:
  control-railway:
    runs-on: ubuntu-latest
    steps:
      - name: ðŸš€ Wake Up Railway
        run: |
          echo "Instalando Railway CLI..."
          npm install -g @railway/cli
          
          echo "Acordando serviÃ§o..."
          railway up --service ${{ secrets.RAILWAY_SERVICE_ID }} --token ${{ secrets.RAILWAY_TOKEN }}
          
      - name: ðŸ’¤ Sleep Railway  
        run: |
          echo "Instalando Railway CLI..."
          npm install -g @railway/cli
          
          echo "Colocando serviÃ§o para dormir..."
          railway down --service ${{ secrets.RAILWAY_SERVICE_ID }} --token ${{ secrets.RAILWAY_TOKEN }}
