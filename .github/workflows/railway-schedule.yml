name: Railway Auto Schedule
on:
  schedule:
    - cron: '0 9 * * *'  # 6h Bras√≠lia - LIGAR
    - cron: '0 2 * * *'  # 23h Bras√≠lia - DESLIGAR
  workflow_dispatch:

jobs:
  control-railway:
    runs-on: ubuntu-latest
    steps:
      - name: üöÄ Wake Up Railway (6h Bras√≠lia)
        run: |
          echo "Instalando Railway CLI..."
          npm install -g @railway/cli
          
          echo "Acordando servi√ßo..."
          railway up --service ${{ secrets.RAILWAY_SERVICE_ID }} --token ${{ secrets.RAILWAY_TOKEN }}
          
      - name: üí§ Sleep Railway (23h Bras√≠lia)
        run: |
          echo "Instalando Railway CLI..."
          npm install -g @railway/cli
          
          echo "Colocando servi√ßo para dormir..."
          railway down --service ${{ secrets.RAILWAY_SERVICE_ID }} --token ${{ secrets.RAILWAY_TOKEN }}
